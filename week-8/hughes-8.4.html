<!--
============================================
; Title:  hughes-8.4.html
; Author: Joshua Hughes
; Date:   17 July 2019
; Description: Assignment 8.4
;===========================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">
  /**
   * Params: id,firstName,lastName,title
   * Response: employee object
   * Description:  constructor for a new employee object.
   */
  function Employee(id, firstName,lastName,title) {
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;
  }

  //employees array using Employee object constructor
  var employees = [
    new Employee(
      1005,
      "John",
      "Smith",
      "Product Owner"
    ),
    new Employee(
      1006,
      "Mike",
      "Jones",
      "Developer"
    ),
    new Employee(
      1007,
      "Rick",
      "James",
      "Database Operations Manager"
    ),
    new Employee(
      1008,
      "Steve",
      "Williams",
      "Global Operations Manager"
    ),
    new Employee(
      1009,
      "Chris",
      "Kelley",
      "Network Architect"
    )
  ]

  /**
   * Params: id
   * Response: alerts employee object
   * Description:  getter function for an employee object.
   */
  function getEmployee(ID){
    employees.forEach(employee => {
      if (ID == employee.id){
        alert(
          employee.id +
          " - "+
          employee.firstName +
          " "+
          employee.lastName +
          " - "+
          employee.title
        );
      }
    });
  }

  //Creates a string variable named "output" and builds an HTML table.
  var output =
  "<h1>Employee Listing</h1>" +
        "<table id='employee'>" +
          "<thead>" +
            "<tr>" +
              "<th>Id</th>" +
              "<th>First Name</th>" +
              "<th>Last Name</th>" +
              "<th>title</th>" +
            "</tr>" +
          "</thead>" +
          "<tbody id='tbody'>"
  ;

  //Iterates over the employee's array and appends each employee property using the <td> td> tag.
  employees.forEach(employee => {
    output +=
      "<tr>" +
        "<td>"+employee.id +"</td>"+
        "<td>"+employee.firstName +"</td>"+
        "<td>"+employee.lastName +"</td>"+
        "<td>"+employee.title +"</td>"+
      "</tr>"
      ;
  });

  //finishes table build
  output +=
          "</tbody>" +
        "</table>";

  /*Assign the output string to the "emps" using jquery
  ; ALTERNATE:through the innerHTML function
  ;     document.getElementById("emps").innerHTML=output;
  */
  $("#emps").html(output);

  // jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {
      getEmployee(
        $(this).find('td:first').html()
      );
    })
  });
</script>
</body>
</html>
